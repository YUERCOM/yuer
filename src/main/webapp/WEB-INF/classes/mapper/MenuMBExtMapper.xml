<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yuer.mapper.MenuMBMapper">
	<select id="selectMenusByRoleId" resultType="com.yuer.model.MenuMB">
		select 
			yuerm.id as id,
			yuerm.name as name,
			yuerm.code as code,
			yuerm.parent_id as parentId,
			yuerm.url as url 
		from 
			yuer_menu yuerm,
			yuer_menu_role_rel yuermrr 
		where 1 =1 
			and yuermrr.menu_id = yuerm.id  
			and yuermrr.role_id = #{roleId} 
			and yuerm.level in (1,2) 
			order by yuerm.parent_id,id
	</select>
</mapper>